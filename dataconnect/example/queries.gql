query ListProjects @auth(rules: [ { allow: public } ]) {
  projects {
    id
    name
    description
  }
}

query ListUsersByOrganization($organizationId: UUID!) @auth(rules: [ { allow: user, where: "{ organization_id: $organizationId }" } ]) {
  users(organization_id: $organizationId) {
    id
    displayName
    email
  }
}

# Mutations
# To learn more about mutations, see: https://firebase.google.com/docs/data-connect/mutations

# To learn more about securing your mutations, see: https://firebase.google.com/docs/data-connect/security-rules

mutation UpdateTask($id: UUID!, $status: String!) @auth(rules: [ { allow: user, where: "{ user_id: $uid }" } ]) {
  task_update(
    id: $id
    status: $status
  ) {
    id
  }
}
